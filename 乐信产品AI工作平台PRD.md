# 乐信产品AI工作平台 PRD

## 文档信息

| 项目 | 内容 |
|------|------|
| 产品名称 | 乐信产品AI工作平台 |
| 版本号 | V1.1.3 |
| 文档状态 | 进行中 |
| 创建日期 | 2025年1月 |
| 更新日期 | 2025年2月7日 |
| 负责人 | 李灿灿 |

---

## 1. 产品概述

### 1.1 产品背景

在产品研发过程中，PRD（产品需求文档）编写和UI设计是两个核心环节。传统方式存在以下痛点：

- **PRD编写效率低**：产品经理需要花费大量时间整理需求、撰写文档
- **文档质量参差不齐**：缺乏统一的规范和质量检查机制
- **PRD到UI转化断层**：需求文档与设计稿之间缺乏有效衔接
- **协作效率待提升**：文档管理分散，版本控制困难
- **AI信息获取困难**：公司内网无法访问境外AI资讯网站，团队难以及时了解全球AI技术动态

### 1.2 产品定位

乐信产品AI工作平台是一款面向产品经理和设计师的AI辅助工具，通过AI技术赋能PRD编写和UI设计流程，提升工作效率和产出质量。同时聚合全球AI领域最新资讯，帮助团队掌握行业前沿动态。

### 1.3 目标用户

| 用户角色 | 使用场景 | 核心诉求 |
|----------|----------|----------|
| 产品经理 | PRD编写、需求管理、AI趋势跟踪 | 快速生成高质量PRD，提升文档规范性，了解AI产品趋势 |
| UI设计师 | UI设计、设计稿管理 | 基于PRD快速生成设计稿，提升设计效率 |
| 项目负责人 | 项目管理、进度跟踪 | 统一管理需求和设计资产 |
| 全体员工 | 浏览AI动态资讯 | 无需翻墙即可获取全球AI领域最新动态 |

---

## 2. 功能架构

### 2.1 系统架构图

```
┌──────────────────────────────────────────────────────────────────────┐
│                        乐信产品AI工作平台                              │
├──────────────────────────────────────────────────────────────────────┤
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────────────────┐  │
│  │  PRD管理模块  │  │  UI设计模块   │  │      AI动态模块           │  │
│  │ ┌──────────┐ │  │ ┌──────────┐ │  │ ┌──────────────────────┐ │  │
│  │ │ 需求列表  │ │  │ │ 设计列表  │ │  │ │ 动态信息流(资讯列表)  │ │  │
│  │ │ PRD创建  │ │  │ │ UI创建   │ │  │ │ 分类筛选与搜索       │ │  │
│  │ │ 智能审核  │ │  │ │ 设计预览  │ │  │ │ 文章详情阅读        │ │  │
│  │ │ 导出同步  │ │  │ │ 导出下载  │ │  │ │ 收藏与分享          │ │  │
│  │ └──────────┘ │  │ └──────────┘ │  │ └──────────────────────┘ │  │
│  └──────────────┘  └──────────────┘  └──────────────────────────┘  │
├──────────────────────────────────────────────────────────────────────┤
│  ┌──────────────────────────────────────────────────────────────┐   │
│  │                        AI能力层                               │   │
│  │  AI需求助手 │ AI设计助手 │ 智能审核 │ 内容生成 │ 资讯爬虫引擎  │   │
│  └──────────────────────────────────────────────────────────────┘   │
├──────────────────────────────────────────────────────────────────────┤
│  ┌──────────────────────────────────────────────────────────────┐   │
│  │                        基础服务层                             │   │
│  │  用户管理 │ 数据存储 │ 文件导出 │ 第三方集成 │ 定时任务调度    │   │
│  └──────────────────────────────────────────────────────────────┘   │
└──────────────────────────────────────────────────────────────────────┘
```

### 2.2 功能模块清单

| 模块 | 功能 | 优先级 | 状态 |
|------|------|--------|------|
| 项目管理 | 项目列表展示 | P0 | ✅ 已完成 |
| 项目管理 | 项目创建 | P0 | ✅ 已完成 |
| 项目管理 | 项目详情页 | P0 | ⚠️ 页面已实现，路由未注册 |
| 项目管理 | 成员管理 | P1 | ✅ 已完成 |
| 项目管理 | 关联PRD/UI | P1 | ✅ 已完成 |
| PRD管理 | 需求列表展示 | P0 | ✅ 已完成 |
| PRD管理 | PRD创建向导 | P0 | ✅ 已完成 |
| PRD管理 | AI辅助生成 | P0 | ✅ 已完成 |
| PRD管理 | 智能审核评分 | P1 | ✅ 已完成 |
| PRD管理 | 导出(MD/Word) | P0 | ✅ 已完成 |
| PRD管理 | TAPD同步 | P2 | ⏳ 待开发 |
| UI设计 | 设计列表展示 | P0 | ✅ 已完成 |
| UI设计 | UI创建向导 | P0 | ✅ 已完成 |
| UI设计 | PRD关联 | P1 | ✅ 已完成 |
| UI设计 | 设计预览 | P0 | ✅ 已完成 |
| UI设计 | 导出(Figma/PNG) | P1 | ✅ 已完成 |
| AI动态 | 动态信息流展示 | P0 | ✅ 已完成 |
| AI动态 | 分类筛选与搜索 | P0 | ✅ 已完成 |
| AI动态 | 文章详情阅读 | P0 | ✅ 已完成 |
| AI动态 | 收藏功能 | P1 | ✅ 已完成 |
| AI动态 | 内部分享 | P2 | ✅ 已完成 |
| AI动态 | 后端爬虫服务 | P0 | ⏳ 待开发 |
| AI动态 | AI摘要生成 | P1 | ⏳ 待开发 |
| 工作台 | 顶部导航栏 | P0 | ✅ 已完成 |
| 工作台 | 动态页面标题 | P0 | ✅ 已完成 |
| 工作台 | 使用时长统计 | P0 | ✅ 已完成 |
| 工作台 | Token消耗统计 | P0 | ✅ 已完成 |
| 工作台 | 我的排行（个人排名信息） | P0 | ✅ 已完成 |
| 工作台 | 数据概览卡片 | P0 | ✅ 已完成 |
| 工作台 | 最近访问列表 | P0 | ✅ 已完成 |
| 工作台 | 排行榜系统 | P1 | ✅ 已完成 |
| 工作台 | 成就进度展示 | P1 | ✅ 已完成 |
| 工作台 | 右侧AI动态面板 | P0 | ✅ 已完成 |

---

## 3. 功能详细设计

### 3.1 PRD管理模块

#### 3.1.1 需求列表页

**页面路径**：`/prd`

**功能描述**：
- 以卡片网格形式展示所有PRD文档
- 支持按标题/描述搜索
- 支持按状态筛选（全部/进行中/已完成）
- 支持查看、编辑、导出、删除操作

**页面元素**：

| 元素 | 说明 |
|------|------|
| 搜索框 | 实时搜索，支持标题和描述匹配 |
| 状态筛选 | 下拉选择：全部/进行中/已完成 |
| 新建按钮 | 跳转至PRD创建页面 |
| PRD卡片 | 展示标题、描述、状态、时间、操作菜单 |
| 记录统计 | 显示当前筛选结果数量 |

**交互规则**：
1. 搜索实时生效，无需点击搜索按钮
2. 点击卡片打开详情弹窗
3. 三点菜单提供：查看、编辑、导出Markdown、删除
4. 删除操作需二次确认
5. 列表加载时显示骨架屏

#### 3.1.2 PRD创建页

**页面路径**：`/prd/create`

**功能描述**：
三步向导式PRD创建流程，AI全程辅助。

**Step 1: 新建需求**

左右分栏布局：左侧AI助手（1/5），右侧需求编辑区（4/5）

**左侧AI助手面板**：
| 功能区域 | 说明 |
|----------|------|
| AI助手信息 | 显示AI需求助手头像、名称、口号 |
| 鼓励消息 | 随机显示鼓励性文案 |
| 快捷建议 | 优化背景描述、补充功能细节、添加验收标准、完善数据埋点 |
| 对话区 | 与AI需求助手实时对话 |
| 输入框 | 向AI提问 |

**右侧需求编辑区**：
| 功能区域 | 说明 |
|----------|------|
| 基本信息 | 需求名称（必填）+ 归属项目（可选），2列网格布局 |
| 需求描述 | 文本输入框，10000字符限制，支持字数统计，高度500px可垂直调整 |
| 参考图片 | 支持上传竞品截图等参考资料 |
| 元数据 | 优先级（P0-P3）+ AI模型选择（GPT-4/GPT-3.5/Claude），2列网格 |
| 生成按钮 | 触发AI生成PRD文档，生成后直接替换需求描述区内容 |
| 复制按钮 | 生成后显示，复制需求描述内容到剪贴板 |
| 下一步按钮 | 进入需求审查步骤 |

**Step 2: 需求审查**

全屏独立页面风格，包含固定头部、可滚动内容区、固定底部操作栏

| 功能区域 | 说明 |
|----------|------|
| 页面头部 | 标题"需求智能审查" + PRD标题 |
| 评分圆环 | 中央显示质量评分（0-100分），带动画效果 |
| 统计信息 | 通过/优化/修复项数量统计 |
| 审查详情 | 5个维度的审查结果列表，每项显示状态（通过/建议优化/必须修复）和描述 |
| 返回修改按钮 | 返回Step 1继续编辑 |
| 通过并继续按钮 | 保存PRD并进入Step 3 |

**AI生成约束与设定：**

> 以下约束确保AI生成的PRD文档符合乐信产品规范

##### 角色设定（Role）
AI扮演一位拥有10年经验的资深产品经理和全栈系统架构师，擅长将模糊的需求转化为逻辑严密、可落地的PRD需求文档。

##### 任务定义（Task）
基于用户提供的简短"一句话需求"，通过深度推理，扩展成一份完整的《产品需求文档 (PRD)》。

##### 输出结构要求（Output Requirements）
生成的PRD文档必须按以下结构输出 Markdown 格式：

**1. 产品概览-项目背景与目标**

| 字段 | 说明 |
|------|------|
| 产品/需求名称 | 对需求进行总结命名 |
| 需求价值 | 一句打动用户的核心价值主张 |
| 核心痛点 | 一针见血地指出要解决的问题 |

**2. 用户画像**
- 描述 1-2 个典型用户角色（Persona）
- 包含用户痛点和使用场景

**3. 功能列表/业务流程逻辑**
- 使用 MoSCoW 原则分类：
  - **Must have**（必须有）- 核心功能，缺失则产品无法使用
  - **Should have**（应该有）- 重要功能，提升用户体验
  - **Could have**（可以有）- 锦上添花的功能
  - **Won't have**（暂不做）- 明确排除的功能
- 每个功能必须包含"页面/模块"归属，便于后续生成UI

**4. 接口需求详情**
- 描述每个功能的具体接口需求
- 包含：HTTP 方法、URL 路径、请求参数、响应格式
- 示例格式：
  ```
  POST /api/items     - 创建新项目
  GET /api/items      - 获取项目列表
  GET /api/items/:id  - 获取项目详情
  PUT /api/items/:id  - 更新项目
  DELETE /api/items/:id - 删除项目
  ```

**5. 页面与交互架构**
- 列出核心页面结构（首页、详情页、设置页等）
- 描述关键页面的核心组件
- 说明页面间的跳转关系

**6. 数据模型与埋点建议**
- 以技术视角列出核心数据库实体（Entities）
- 列出关键字段（Fields）及类型
- 示例：`User (id: string, name: string, avatar: string, created_at: datetime)`
- 埋点事件定义：事件名、触发时机、携带参数

**7. 视觉风格指导**

*设计原则：*
- 遵循「轻松愉悦」、「简单易用」、「专业信赖」三大设计价值观
- 结合可用性基准（Fitts定律、格式塔原则）
- 确保功能逻辑与用户心智模型匹配

*主色调分布：*

| 颜色 | 色值 | 用途 |
|------|------|------|
| 品牌蓝 | #4D83FF | 主要操作按钮、重要链接、标题 |
| 洋红 | #FF4D82 | 警告、错误状态 |
| 辅助红 | #E53948 | 删除操作、强调重要信息 |
| 橙色 | #FF9D33 | 警告、提示用户注意 |
| 绿色 | #26BF71 | 成功状态、确认操作 |
| 灰色 | #1E2533 | 背景、文本、边框 |

*字体规范：*

| 平台 | 中文字体 | 英文字体 |
|------|----------|----------|
| iOS | 苹方 (PingFang SC) | Roboto |
| Android | 思源黑体 (Noto Sans CJK SC) | Roboto |
| Windows | 微软雅黑 (Microsoft YaHei) | Segoe UI |

> 设计稿以iOS平台为准，使用苹方 (PingFang SC) 及 Roboto

##### 语言风格约束
- 使用简单、直接的表达方式
- 避免复杂或生僻的词汇
- 句子之间逻辑关系清晰
- 避免复杂的语法结构
- 将过渡词和连接词替换为最基础、最常用的词语

**Step 3: 需求导出**

| 导出选项 | 说明 |
|----------|------|
| 导出到本地 | 支持Markdown(.md)和Word(.doc)格式 |
| 同步到TAPD | 将PRD同步至TAPD项目管理平台 |
| 导入UI设计 | 将PRD关联至UI设计流程 |

#### 3.1.3 智能审查功能

**功能描述**：
AI对PRD文档进行质量评估，输出评分和改进建议。

**审查维度**：

| 维度 | 说明 | 评判标准 |
|------|------|----------|
| 需求完整性 | 需求描述是否完整 | 包含背景、目标、功能点 |
| 背景清晰度 | 背景描述是否清晰 | 问题定义明确，目标可量化 |
| 用户流程 | 用户流程是否清晰 | 流程完整，异常处理明确 |
| 埋点规范 | 数据埋点是否规范 | 符合埋点规范，覆盖关键节点 |
| 可衡量性 | 指标是否可衡量 | 有明确的成功指标 |

**评分规则**：
- 总分100分，各维度权重相等
- 状态标识：✅ 通过 / ⚠️ 待优化 / ❌ 需修复
- 提供具体改进建议

### 3.2 UI设计模块

#### 3.2.1 设计列表页

**页面路径**：`/ui`

**功能描述**：
- 采用左右分栏布局，左侧项目列表 + 右侧设计卡片网格
- 左侧项目列表支持快速切换，增强项目-设计的关联关系
- 右侧根据选中项目筛选展示设计卡片
- 支持搜索和状态筛选
- 显示设计缩略图和关联PRD信息
- 支持查看、编辑、下载、删除操作

**页面布局**：

```
┌────────────────────────────────────────────────┐
│  [左侧项目列表 20-25%]  │  [右侧卡片区域 75-80%]  │
│                        │                        │
│  ● 全部项目 (13)       │  ┌──┐ ┌──┐ ┌──┐       │
│  ○ 用户登录体验优化 (3) │  │  │ │  │ │  │       │
│  ○ 首页改版项目 (3)    │  └──┘ └──┘ └──┘       │
│  ○ 分期乐会员体系... (4)│  ┌──┐ ┌──┐ ┌──┐       │
│  ○ 未关联项目 (3)      │  │  │ │  │ │  │       │
│                        │  └──┘ └──┘ └──┘       │
└────────────────────────────────────────────────┘
```

**左侧项目列表**：

| 元素 | 说明 |
|------|------|
| 全部项目 | 固定顶部项，默认选中，显示所有设计卡片总数 |
| 项目列表 | 列出所有有设计的项目，显示项目名 + 设计数量 |
| 未关联项目 | 底部显示未关联项目的设计数量（如有） |
| 选中高亮 | 单击切换项目，选中项高亮显示 |

**右侧卡片区域**：

| 元素 | 说明 |
|------|------|
| 项目标题 | 选中具体项目时显示项目名称作为区域标题 |
| 搜索框 | 实时搜索设计名称 |
| 状态筛选 | 全部/进行中/已完成 |
| 新建按钮 | 跳转至UI创建页面 |
| 设计卡片 | 缩略图、名称、关联PRD、工具标签、操作菜单 |
| 空状态 | 项目下无设计时显示"暂无设计，点击添加" |

**交互规则**：
1. 默认选中"全部项目"，右侧以紧密网格展示所有设计卡片
2. 选中具体项目时，右侧只显示该项目下的卡片
3. 卡片网格 3-4 列自适应布局
4. 搜索和状态筛选在当前选中项目范围内生效

**响应式适配**：

| 屏幕宽度 | 卡片列数 | 左侧面板 |
|----------|---------|---------|
| 1920px+ | 4列 | 正常显示 |
| 1440-1920px | 3列 | 正常显示 |
| 1024-1440px | 2列 | 可折叠 |
| <1024px | 1-2列 | 收起为抽屉 |

#### 3.2.2 UI创建页

**页面路径**：`/ui/create`

**功能描述**：
三步向导式UI设计创建流程。

**Step 1: 需求输入**

| 功能区域 | 说明 |
|----------|------|
| PRD关联 | 可选择关联已有PRD文档 |
| 工具选择 | Figma / Pencil |
| 设计需求描述 | 文本输入框描述设计需求 |
| 参考图片 | 上传设计参考图 |

**Step 2: 设计调整**

| 功能区域 | 说明 |
|----------|------|
| AI对话区 | 与AI设计助手实时对话 |
| 快捷建议 | 调整配色、优化布局、修改字体等 |
| 设计预览区 | 实时预览生成的UI设计 |
| 操作按钮 | 重新生成、保存 |

**Step 3: 导出**

| 导出选项 | 说明 |
|----------|------|
| Figma格式 | 导出.fig文件 |
| PNG图片 | 导出PNG格式图片 |

### 3.3 AI助手系统

#### 3.3.1 AI需求助手

**助手信息**：
- 名称：AI需求助手
- 图标：📋
- 口号：问问AI，需求更清晰

**能力范围**：
- PRD内容生成与优化
- 需求完整性检查
- 文档结构建议
- 行业最佳实践参考

**交互方式**：
- 对话式交互
- 快捷建议按钮
- 上下文理解

#### 3.3.2 AI设计助手

**助手信息**：
- 名称：AI设计助手
- 图标：🎨
- 口号：问问AI，设计更出彩

**能力范围**：
- UI设计生成
- 配色方案建议
- 布局优化建议
- 设计规范检查

### 3.4 AI动态模块

#### 3.4.1 模块概述

**产品背景**：
公司内部网络无法直接访问境外网站（如 OpenAI、Anthropic、Google DeepMind、Hugging Face 等），导致内部同事难以及时获取全球 AI 领域的最新动态、技术突破和行业趋势。AI 动态模块通过后端爬虫定时抓取境外 AI 资讯源，将内容存储到内部服务器，以信息流形式在平台内展示，让团队成员无需翻墙即可掌握全球 AI 前沿信息。

**核心价值**：
- 打破信息壁垒：内部同事无需科学上网即可获取全球 AI 资讯
- 提升团队认知：帮助产品、设计、研发团队了解 AI 技术趋势，辅助产品决策
- 知识沉淀：收藏和分享机制促进团队内部知识流转

**目标用户**：

| 用户角色 | 使用场景 | 核心诉求 |
|----------|----------|----------|
| 产品经理 | 了解 AI 产品趋势，辅助产品规划 | 快速获取行业动态，发现产品机会 |
| 研发工程师 | 跟踪 AI 技术进展，学习新技术 | 获取技术论文、开源项目、模型发布信息 |
| 设计师 | 了解 AI 设计工具和趋势 | 获取 AI 设计工具更新、设计趋势 |
| 管理层 | 了解行业竞争格局 | 获取融资、战略、政策等宏观信息 |

#### 3.4.2 AI动态列表页

**页面路径**：`/ai-news`

**功能描述**：
- 以时间轴信息流形式展示 AI 领域最新资讯，按日期分组
- 支持按分类标签筛选（含"我读过的"、"我收藏的"快捷筛选）
- 支持收藏文章
- 卡片展示已读/收藏状态标签
- 显示文章来源、发布时间、AI 生成的中文摘要

**页面布局**：

```
┌─────────────────────────────────────────────────────────────┐
│  [全部] [📖我读过的] [⭐我收藏的] [大模型] [AI产品]  N 条    │
│  [开源项目] [研究论文] [行业融资] [政策法规] [AI工具] [技术教程]│
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  ● 2025-01-15（今天）                                         │
│  │                                                            │
│  │  ┌───────────────────────────────────────────────────┐    │
│  │  │ 🔥 OpenAI发布GPT-5：多模态能力大幅提升             │    │
│  │  │ AI摘要：OpenAI正式发布GPT-5模型...                 │    │
│  │  │ 来源：OpenAI Blog │ 01-15  [已读][收藏][大模型]     │    │
│  │  └───────────────────────────────────────────────────┘    │
│  │                                                            │
│  │  ┌───────────────────────────────────────────────────┐    │
│  │  │ Anthropic Claude 4发布，推理能力超越GPT-4o         │    │
│  │  │ AI摘要：Anthropic发布新一代Claude 4模型...          │    │
│  │  │ 来源：Anthropic │ 01-15                [大模型]     │    │
│  │  └───────────────────────────────────────────────────┘    │
│                                                               │
│  ● 2025-01-14（昨天）                                         │
│  │  ...                                                       │
└─────────────────────────────────────────────────────────────┘
```

**页面元素**：

| 元素 | 说明 |
|------|------|
| 分类标签栏 | 横向滚动标签，支持单选筛选，选中态高亮；含"我读过的"（BookOpen图标）和"我收藏的"（Star图标）快捷筛选 |
| 时间轴分组 | 按日期分组展示，每组显示日期标题（带时钟图标圆形节点）和竖线连接 |
| 资讯卡片 | 展示标题、来源、时间、分类标签、AI摘要、操作菜单（收藏/分享/删除） |
| 已读标签 | 卡片右下角绿色药丸标签，进入详情页后自动标记 |
| 收藏标签 | 卡片右下角黄色药丸标签，收藏后显示 |
| 热门标记 | 热门文章标题前显示火焰图标 |
| 记录统计 | 标签栏右侧显示"N 条"筛选结果数量 |

**分类标签定义**：

| 标签 | 说明 | 对应资讯源 |
|------|------|-----------|
| 大模型 | 大语言模型发布、更新、评测 | OpenAI Blog, Anthropic Blog, Google AI Blog |
| AI产品 | AI产品发布、功能更新 | TechCrunch AI, The Verge AI, Product Hunt |
| 开源项目 | 开源模型、框架、工具发布 | Hugging Face Blog, GitHub Trending |
| 研究论文 | 重要AI论文、技术突破 | arXiv AI, Papers With Code |
| 行业融资 | AI公司融资、并购、上市 | Crunchbase, TechCrunch |
| 政策法规 | AI相关政策、法规、监管 | 各国政府网站、行业媒体 |
| AI工具 | AI辅助工具、插件、平台 | Product Hunt, 各工具官网 |
| 技术教程 | AI技术教程、最佳实践 | Medium AI, Towards Data Science |

**交互规则**：
1. 默认展示"全部"分类，按发布时间倒序排列，按日期分组显示时间轴
2. 点击分类标签切换筛选，"我读过的"筛选已阅读文章，"我收藏的"筛选已收藏文章
3. 点击卡片进入文章详情页，自动标记为已读
4. 收藏操作即时生效，无需确认
5. 已读文章卡片右下角显示绿色"已读"标签，已收藏文章显示黄色"收藏"标签
6. 列表加载时显示骨架屏
7. 删除操作需二次确认

#### 3.4.3 文章详情页

**页面路径**：`/ai-news/:id`

**功能描述**：
- 展示文章完整内容（已翻译为中文）
- 提供原文链接（仅展示，内网不可访问时提示）
- 支持收藏和分享
- 展示相关推荐文章

**页面布局**：

```
┌─────────────────────────────────────────────────────────┐
│  ← 返回AI动态                           ☆ 收藏  ↗ 分享 │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  OpenAI发布GPT-5：多模态能力大幅提升                     │
│  来源：OpenAI Blog │ 2025-01-15 │ 大模型                │
│  原文链接：https://openai.com/blog/gpt-5 (境外)         │
│                                                         │
│  ─────────────────────────────────────────               │
│                                                         │
│  [文章正文内容，已翻译为中文]                             │
│  ...                                                    │
│                                                         │
│  ─────────────────────────────────────────               │
│  📌 相关推荐                                             │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐       │
│  │ 相关文章1    │ │ 相关文章2    │ │ 相关文章3    │       │
│  └─────────────┘ └─────────────┘ └─────────────┘       │
└─────────────────────────────────────────────────────────┘
```

**页面元素**：

| 元素 | 说明 |
|------|------|
| 返回按钮 | 返回AI动态列表页，保留之前的筛选和滚动位置 |
| 文章标题 | 中文标题（AI翻译） |
| 元信息栏 | 来源网站、发布时间、分类标签 |
| 原文链接 | 显示原始URL，标注"(境外)"提示内网不可直接访问 |
| 文章正文 | Markdown渲染的中文翻译内容，支持图片、代码块、表格 |
| 收藏/分享 | 同列表页功能 |
| 相关推荐 | 基于分类标签匹配的3篇相关文章卡片 |

**交互规则**：
1. 进入详情页记录阅读量（用于热门排序）
2. 原文链接点击时弹出提示："该链接为境外地址，内网可能无法直接访问"
3. 正文支持图片懒加载
4. 相关推荐点击后跳转对应详情页

#### 3.4.4 我的收藏页

**页面路径**：`/ai-news/favorites`

**功能描述**：
- 展示用户收藏的所有AI动态文章
- 支持搜索和分类筛选
- 支持取消收藏

**页面元素**：

| 元素 | 说明 |
|------|------|
| 搜索框 | 在收藏列表内搜索 |
| 分类筛选 | 同列表页分类标签 |
| 收藏卡片 | 同列表页卡片样式，收藏按钮为实心状态 |
| 空状态 | 无收藏时显示引导文案："还没有收藏的文章，去AI动态看看吧" |

#### 3.4.5 后端爬虫服务设计

**服务架构**：

```
┌─────────────────────────────────────────────────────────┐
│                    爬虫服务架构                           │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌──────────┐    ┌──────────────┐    ┌──────────────┐  │
│  │ 定时调度器 │───→│  爬虫引擎     │───→│  内容处理器   │  │
│  │ (Cron)   │    │ (Puppeteer/  │    │  - 正文提取   │  │
│  │ 每2小时   │    │  Playwright) │    │  - AI翻译    │  │
│  └──────────┘    └──────────────┘    │  - AI摘要    │  │
│                                      │  - 分类打标   │  │
│                                      └──────┬───────┘  │
│                                             │          │
│                                      ┌──────▼───────┐  │
│  ┌──────────┐    ┌──────────────┐    │   数据存储    │  │
│  │ 前端API  │◄───│  API服务      │◄───│  (Database)  │  │
│  │ /ai-news │    │  RESTful     │    │              │  │
│  └──────────┘    └──────────────┘    └──────────────┘  │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

**爬虫目标源**：

| 资讯源 | URL | 抓取频率 | 内容类型 |
|--------|-----|----------|----------|
| OpenAI Blog | openai.com/blog | 每2小时 | 大模型、AI产品 |
| Anthropic Blog | anthropic.com/news | 每2小时 | 大模型、研究论文 |
| Google AI Blog | blog.google/technology/ai | 每2小时 | 大模型、研究论文 |
| Hugging Face Blog | huggingface.co/blog | 每4小时 | 开源项目 |
| TechCrunch AI | techcrunch.com/category/artificial-intelligence | 每2小时 | AI产品、行业融资 |
| The Verge AI | theverge.com/ai-artificial-intelligence | 每2小时 | AI产品 |
| arXiv AI | arxiv.org/list/cs.AI | 每6小时 | 研究论文 |
| Papers With Code | paperswithcode.com | 每6小时 | 研究论文、开源项目 |
| GitHub Trending | github.com/trending (AI相关) | 每12小时 | 开源项目 |
| Product Hunt | producthunt.com (AI类) | 每12小时 | AI工具、AI产品 |
| MIT Technology Review | technologyreview.com/ai | 每4小时 | 行业综合 |
| VentureBeat AI | venturebeat.com/ai | 每4小时 | 行业融资、AI产品 |

**内容处理流程**：

1. **抓取**：爬虫引擎通过代理服务器访问境外目标网站，抓取文章列表和正文
2. **去重**：基于 URL + 标题哈希去重，避免重复入库
3. **正文提取**：使用 Readability 算法提取文章正文，过滤广告和导航元素
4. **AI翻译**：调用内部 AI 翻译服务将英文内容翻译为中文
5. **AI摘要**：调用 AI 生成 100-200 字的中文摘要
6. **分类打标**：AI 根据内容自动分类，打上对应标签
7. **入库存储**：存入数据库，标记来源、原文链接、抓取时间

**爬虫策略**：
- 遵守 robots.txt 协议
- 请求间隔不低于 3 秒，避免对目标站点造成压力
- 使用代理池轮换 IP
- 设置 User-Agent 模拟正常浏览器访问
- 抓取失败自动重试（最多3次），失败记录告警
- 单次抓取超时 30 秒

**API接口设计**：

| 接口 | 方法 | 路径 | 说明 |
|------|------|------|------|
| 获取资讯列表 | GET | /api/ai-news | 支持分页、分类筛选、关键词搜索 |
| 获取资讯详情 | GET | /api/ai-news/:id | 返回文章完整内容，记录阅读量 |
| 收藏文章 | POST | /api/ai-news/:id/favorite | 添加收藏 |
| 取消收藏 | DELETE | /api/ai-news/:id/favorite | 取消收藏 |
| 获取收藏列表 | GET | /api/ai-news/favorites | 获取当前用户收藏列表 |
| 分享文章 | POST | /api/ai-news/:id/share | 生成内部分享链接 |

**请求/响应示例**：

```
GET /api/ai-news?page=1&pageSize=20&category=大模型&keyword=GPT

Response:
{
  "total": 156,
  "page": 1,
  "pageSize": 20,
  "items": [
    {
      "id": "news_001",
      "title": "OpenAI发布GPT-5：多模态能力大幅提升",
      "summary": "OpenAI正式发布GPT-5模型，在多模态理解...",
      "source": "OpenAI Blog",
      "sourceUrl": "https://openai.com/blog/gpt-5",
      "category": "大模型",
      "publishedAt": "2025-01-15T08:00:00Z",
      "crawledAt": "2025-01-15T10:30:00Z",
      "readCount": 328,
      "isFavorited": false,
      "isHot": true
    }
  ]
}
```

#### 3.4.6 前端数据模型

```typescript
// AI动态文章数据结构
interface AINewsItem {
  id: string;
  title: string;              // 中文标题（AI翻译）
  originalTitle: string;      // 原始标题
  summary: string;            // AI生成的中文摘要（100-200字）
  content: string;            // 中文正文（Markdown格式）
  source: string;             // 来源网站名称
  sourceUrl: string;          // 原文链接
  category: AINewsCategory;   // 分类标签
  coverImage?: string;        // 封面图（如有）
  publishedAt: string;        // 原文发布时间
  crawledAt: string;          // 爬取时间
  readCount: number;          // 阅读量
  isFavorited: boolean;       // 当前用户是否已收藏
  isHot: boolean;             // 是否热门（24h阅读量Top3）
}

// 分类枚举
type AINewsCategory =
  | '大模型'
  | 'AI产品'
  | '开源项目'
  | '研究论文'
  | '行业融资'
  | '政策法规'
  | 'AI工具'
  | '技术教程';

// 收藏记录
interface AINewsFavorite {
  id: string;
  newsId: string;
  userId: string;
  createdAt: string;
}
```

#### 3.4.7 前端临时方案（V1.0 localStorage）

由于当前系统尚未接入后端服务，V1.0 阶段采用 localStorage 存储预置的 Mock 数据，模拟爬虫抓取效果：

**存储键**：
- `lexin_ai_news_list`：AI动态文章列表（预置 15-20 条 Mock 数据）
- `lexin_ai_news_favorites`：用户收藏的文章ID列表

**Mock数据要求**：
- 覆盖所有 8 个分类标签
- 包含真实的 AI 行业资讯内容（可基于公开信息编写）
- 时间分布在近 7 天内
- 至少 3 篇标记为热门

### 3.5 成就系统

**功能描述**：
通过里程碑机制激励用户持续使用。

**PRD里程碑**：

| 里程碑 | 消息 | 图标 |
|--------|------|------|
| 1份 | 🎉 恭喜完成第一份PRD！ | 🎉 |
| 5份 | 🌟 已完成5份PRD！你正在成为需求专家！ | ⭐ |
| 10份 | 🏆 10份PRD达成！需求大师就是你！ | 🏆 |
| 20份 | 💎 20份PRD！你已经是团队的需求担当！ | 💎 |
| 50份 | 🚀 50份PRD！传说中的需求之神！ | 🚀 |
| 100份 | 👑 100份PRD！需求界的王者！ | 👑 |

**UI设计里程碑**：

| 里程碑 | 消息 | 图标 |
|--------|------|------|
| 1份 | 🎉 恭喜完成第一份UI设计！ | 🎉 |
| 5份 | 🌟 已完成5份设计！设计新星冉冉升起！ | ⭐ |
| 10份 | 🏆 10份设计达成！设计大师就是你！ | 🏆 |
| 20份 | 💎 20份设计！你已经是团队的设计担当！ | 💎 |
| 50份 | 🚀 50份设计！传说中的设计之神！ | 🚀 |

**庆祝动画**：
- 达成里程碑时触发彩屑动画
- 50个彩色粒子自然下落
- 动画持续约4秒

### 3.6 工作台模块

**页面路径**：`/` 或 `/dashboard`

**功能描述**：
工作台是用户的统一入口，采用左右分栏布局，提供数据概览、最近访问、成就系统、排行榜和AI动态等功能，帮助用户高效管理日常工作。

#### 3.6.1 整体布局架构

工作台采用左右分栏布局：
1. **顶部导航栏**：动态页面标题、使用统计、Token消耗、个人排行、用户信息
2. **左侧主内容区**（flex-1）：数据概览卡片（3列）、最近访问列表、我的成就、本周排行榜
3. **右侧AI动态面板**（固定宽度300px）：时间轴形式展示最新AI动态

**页面间距**：
- 页面整体内边距：16px（p-4），紧凑布局减少空白
- 左右分栏间距：24px（gap-6）
- 模块间垂直间距：24px（space-y-6）

#### 3.6.2 顶部导航栏设计

**左侧区域**：
- 动态标题：根据当前路由显示对应页面名称（如"工作台"、"我的项目"、"我的需求"等）
- 字体：20px（text-xl），加粗，颜色 #1E2533（文字主色）
- 无搜索框

**右侧信息区**（从左到右）：

**① 使用时长卡片**
- 显示：Clock 图标 + 时长（如"3h"）+ 下拉箭头
- 图标颜色：#4E5969（文字次色），数值颜色：#1E2533（文字主色）
- 交互：点击展开下拉面板
- 下拉面板内容：
  - 标题："使用统计"
  - 今日使用时长
  - 本周使用时长
  - 本月使用时长

**② Token消耗卡片**
- 显示：Zap 图标 + Token数（如"15.7K"）+ 下拉箭头
- 图标颜色：#4E5969（文字次色），数值颜色：#1E2533（文字主色）
- 交互：点击展开下拉面板
- 下拉面板内容：
  - 标题："Token 消耗"
  - 今日/本周/本月Token消耗

**③ 排名卡片（我的排行）**
- 显示：Trophy 图标 + 排名（如"#5"）+ 下拉箭头
- 图标颜色：#4E5969（文字次色），数值颜色：#1E2533（文字主色）
- 交互：点击展开下拉面板
- 下拉面板内容：
  - 标题："我的排行"
  - 当前排名（如"第 5 名"）
  - 历史最佳（如"第 2 名"）
  - 进入TOP3次数（如"5 次"）

**④ 分隔线**
- 垂直分隔线，高度 24px，颜色 #EDEDEE

**⑤ 用户头像**
- 显示：圆形头像（32px）+ 用户名
- 颜色：用户名 #1E2533（文字主色）

**⑥ 退出按钮**
- LogOut 图标，点击弹出确认对话框后退出登录

#### 3.6.3 数据概览卡片区

采用3列卡片布局（grid grid-cols-3），展示项目、需求、设计的统计数据。

**卡片通用规范**：
- 布局：3列等宽网格，间距 12px
- 圆角：8px（rounded-lg）
- 边框：1px solid #EDEDEE
- 内边距：水平 16px，垂直 12px
- Hover效果：轻微阴影（shadow-sm）
- 点击：跳转到对应列表页

**① 项目卡片**
- 图标：FolderOpen（lucide-react），16px，颜色 #4D83FF
- 标题："项目"，14px 加粗，颜色 #1E2533
- 总数：右侧显示，20px 加粗，颜色 #1E2533
- 辅助信息：进行中数量 + 完成率，12px，颜色 #4E5969
- 点击跳转：`/projects`

**② 需求卡片**
- 图标：FileText（lucide-react），16px，颜色 #4D83FF
- 标题："需求"，14px 加粗，颜色 #1E2533
- 总数：右侧显示，20px 加粗，颜色 #1E2533
- 辅助信息：已完成数量 + 完成率，12px，颜色 #4E5969
- 点击跳转：`/prd`

**③ 设计卡片**
- 图标：Palette（lucide-react），16px，颜色 #4D83FF
- 标题："设计"，14px 加粗，颜色 #1E2533
- 总数：右侧显示，20px 加粗，颜色 #1E2533
- 辅助信息：已完成数量 + 完成率，12px，颜色 #4E5969
- 点击跳转：`/ui`

#### 3.6.4 最近访问模块

**功能说明**：
- 合并展示最近更新的 PRD 和 UI 设计文档
- 显示数量：最多5条记录
- 排序规则：按最后更新时间倒序

**展示内容**：
- 类型图标：PRD 用 FileText 图标，设计用 Palette 图标，颜色 #4D83FF
- 文档标题：14px，颜色 #1E2533
- 辅助信息：类型标签（"需求"/"设计"）+ 关联项目名称，12px，颜色 #84888F
- 更新日期：右侧显示，12px，颜色 #84888F
- 每行底部分隔线：1px solid #EDEDEE

**交互设计**：
- 点击整行跳转到对应文档详情页
- 空状态显示："暂无访问记录"

#### 3.6.5 我的成就 & 本周排行榜

**① 我的成就模块**

功能说明：
- 2列网格布局（grid grid-cols-2），展示成就进度
- 背景色：#FBFCFF

成就列表：
| 成就名称 | 描述 | 目标 |
|----------|------|------|
| PRD新手 | 完成1个PRD | 1 |
| PRD达人 | 完成10个PRD | 10 |
| 设计新星 | 完成1个设计 | 1 |
| 设计大师 | 完成10个设计 | 10 |

展示内容：
- 状态图标：已完成 ✅ / 未完成 ⭕
- 成就标题：14px，颜色 #1E2533
- 成就描述：12px，颜色 #84888F
- 进度条：宽 48px，高 4px，已完成绿色 #52C41A，进行中蓝色 #4D83FF
- 进度数值：如"3/10"，12px，颜色 #4E5969

**② 本周排行榜模块**

功能说明：
- 显示前10名用户排行
- 2列网格布局（grid grid-cols-2），紧凑展示
- 当前用户行高亮显示

排行榜数据：
| 排名 | 奖牌 | 显示内容 |
|------|------|----------|
| 第1名 | 🥇 | 用户名 + PRD数量 + 设计数量 + 积分 |
| 第2名 | 🥈 | 同上 |
| 第3名 | 🥉 | 同上 |
| 第4-10名 | 数字 | 同上 |

视觉样式：
- 普通行背景：#FBFCFF
- 当前用户行背景：#EEF6FF，边框 1px solid #4D83FF
- 用户名后追加"(你)"标识
- 辅助信息："{N}PRD · {N}设计"，12px，颜色 #84888F
- 积分：12px 加粗，颜色 #4E5969

#### 3.6.6 右侧 AI 动态面板

**位置**：固定在页面右侧，宽度 300px，随页面滚动

**功能说明**：
- 内容来源：AI行业动态、产品发布、论文等
- 展示数量：最新8条动态
- 时间轴布局：按日期分组（今天/昨天/具体日期）
- 随页面整体滚动，不设置独立滚动区域

**展示内容**：
- 时间轴圆点：热门文章红色 #FF4D4F，普通文章蓝色 #4D83FF
- 热门标记：🔥 图标
- 标题：14px，颜色 #1E2533，最多2行（line-clamp-2）
- 来源：12px，颜色 #84888F
- 分类标签：12px，背景 #FBFCFF，颜色 #4E5969

**交互设计**：
- 点击标题：跳转到AI动态详情页
- 标题栏右侧："更多"链接，颜色 #4D83FF
- 底部："查看全部 AI 动态 →"按钮，边框 1px solid #EDEDEE

---

## 4. 界面设计规范

### 4.1 色彩系统

| 用途 | 色值 | 说明 |
|------|------|------|
| 主色 | #4D83FF | 品牌蓝，用于主要按钮、链接 |
| 主色悬停 | #3F7AFF | 主色悬停状态 |
| 主色浅 | #EEF6FF | 主色背景 |
| 文字主色 | #1E2533 | 标题、正文 |
| 文字次色 | #4E5969 | 次要文字 |
| 文字辅助 | #84888F | 辅助说明文字 |
| 背景白 | #FFFFFF | 卡片背景 |
| 背景浅 | #FBFCFF | 页面背景 |
| 背景灰 | #EDF3FA | 输入框背景 |
| 边框 | #EDEDEE | 分割线、边框 |
| 侧边栏 | #000000 | 侧边栏背景 |

### 4.2 字体规范

**字体族**：
```css
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
             'Helvetica Neue', Arial, sans-serif;
```

**字号规范**：

| 级别 | 字号 | 用途 |
|------|------|------|
| xs | 10-11px | 辅助说明 |
| sm | 12-14px | 次要文字 |
| base | 14-16px | 正文 |
| lg | 18px | 小标题 |
| xl | 20px+ | 大标题 |

### 4.3 间距规范

| 级别 | 数值 | 用途 |
|------|------|------|
| xs | 4px | 紧凑间距 |
| sm | 8px | 小间距 |
| md | 12px | 中等间距 |
| lg | 16px | 大间距 |
| xl | 24px | 超大间距 |

### 4.4 圆角规范

| 类型 | 数值 | 用途 |
|------|------|------|
| 小圆角 | 4px | 按钮、输入框 |
| 中圆角 | 8px | 卡片、弹窗 |
| 大圆角 | 12px | 特殊容器 |
| 全圆角 | 9999px | 标签、徽章 |

---

## 5. 技术实现

### 5.1 技术栈

| 类别 | 技术 | 版本 |
|------|------|------|
| 框架 | React | 19.2.0 |
| 语言 | TypeScript | 5.9.3 |
| 构建工具 | Vite | 7.2.4 |
| 路由 | React Router DOM | 6.30.3 |
| 样式 | Tailwind CSS | 3.4.19 |
| 图标 | Lucide React | 0.563.0 |

### 5.2 项目结构

```
src/
├── components/          # 可复用UI组件
│   ├── Celebration.tsx  # 庆祝动画
│   ├── ConfirmDialog.tsx # 确认弹窗
│   ├── Header.tsx       # 页头
│   ├── PRDReviewModal.tsx # PRD审核弹窗
│   ├── Sidebar.tsx      # 侧边栏
│   ├── Skeleton.tsx     # 骨架屏
│   ├── StepIndicator.tsx # 步骤指示器
│   └── Toast.tsx        # 消息提示
├── constants/           # 常量配置
│   └── aiAssistant.ts   # AI助手配置
├── hooks/               # 自定义Hooks
│   └── useClickOutside.ts
├── layouts/             # 布局组件
│   └── MainLayout.tsx
├── pages/               # 页面组件
│   ├── PRDList.tsx      # PRD列表
│   ├── PRDCreate.tsx    # PRD创建
│   ├── UIList.tsx       # UI列表
│   ├── UICreate.tsx     # UI创建
│   ├── ProjectList.tsx  # 项目列表
│   ├── ProjectCreate.tsx # 项目创建
│   ├── ProjectDetail.tsx # 项目详情
│   ├── AINewsList.tsx   # AI动态列表
│   ├── AINewsDetail.tsx # AI动态详情
│   └── AINewsFavorites.tsx # AI动态收藏
├── store/               # 状态管理
│   └── AppContext.tsx   # Context API
├── types/               # 类型定义
│   └── index.ts
├── App.tsx              # 根组件
├── main.tsx             # 入口文件
└── index.css            # 全局样式
```

### 5.3 数据存储

**存储方式**：localStorage

**存储键**：
- `lexin_prd_list`：PRD列表数据
- `lexin_ui_design_list`：UI设计列表数据
- `lexin_project_list`：项目列表数据
- `lexin_ai_news_list`：AI动态文章列表数据
- `lexin_ai_news_favorites`：AI动态收藏ID列表
- `lexin_sidebar_collapsed`：侧边栏折叠状态

**数据结构**：

```typescript
// PRD数据结构
interface PRDItem {
  id: string;
  title: string;
  description: string;
  content: string;
  status: 'in_progress' | 'completed';
  projectId?: string;        // 关联项目ID
  createdAt: string;
  updatedAt?: string;
}

// UI设计数据结构
interface UIDesignItem {
  id: string;
  title: string;
  description: string;
  prdId?: string;            // 关联PRD的ID
  prdTitle?: string;         // 关联PRD的标题
  projectId?: string;        // 关联项目ID
  status: 'in_progress' | 'completed';
  tool: string;              // 设计工具：Figma / Pencil
  thumbnail?: string;
  createdAt: string;
}

// 项目数据结构
interface ProjectItem {
  id: string;
  title: string;
  description: string;
  status: 'planning' | 'in_progress' | 'completed';
  members?: string[];        // 格式: ["username(displayName)", ...]
  createdAt: string;
  updatedAt?: string;
}

// AI动态文章数据结构
interface AINewsItem {
  id: string;
  title: string;
  originalTitle: string;
  summary: string;
  content: string;
  source: string;
  sourceUrl: string;
  category: AINewsCategory;
  coverImage?: string;
  publishedAt: string;
  crawledAt: string;
  readCount: number;
  isFavorited: boolean;
  isRead: boolean;            // 当前用户是否已阅读
  isHot: boolean;
}

type AINewsCategory =
  | '大模型' | 'AI产品' | '开源项目' | '研究论文'
  | '行业融资' | '政策法规' | 'AI工具' | '技术教程';
```

**Mock数据规模**：

| 数据类型 | 数量 | 说明 |
|----------|------|------|
| 项目（ProjectItem） | 3条 | 用户登录体验优化（进行中）、首页改版项目（规划中）、分期乐会员体系搭建（已完成） |
| 需求（PRDItem） | 7条 | 覆盖3个项目 + 1条未关联项目的独立需求 |
| UI设计（UIDesignItem） | 13条 | 覆盖3个项目（各3-4条）+ 3条未关联项目的独立设计，工具包含 Figma/Sketch/Adobe XD |
| AI动态（AINewsItem） | 27条 | 覆盖全部8个分类标签，5篇标记为热门 |

**需求与设计关联关系**：

| 项目 | 关联需求 | 关联设计 |
|------|----------|----------|
| 用户登录体验优化 | 用户登录优化需求、注册流程简化需求 | 登录页面设计、注册流程页面设计、忘记密码页面设计 |
| 首页改版项目 | 首页改版需求、首页Banner运营位需求 | 首页整体布局设计、首页Banner轮播组件设计、首页快捷功能入口设计 |
| 分期乐会员体系搭建 | 会员等级页面需求、会员积分商城需求 | 会员等级展示页设计、积分商城首页设计、积分兑换详情页设计、会员中心主页设计 |
| 未关联项目 | 个人中心改版需求 | 个人中心页面设计、消息通知中心设计、设置页面设计 |

### 5.4 路由配置

| 路径 | 页面组件 | 说明 | 状态 |
|------|----------|------|------|
| `/` | - | 重定向到 `/projects` | ✅ 已实现 |
| `/projects` | ProjectList | 项目列表 | ✅ 已实现 |
| `/projects/create` | ProjectCreate | 项目创建 | ✅ 已实现 |
| `/projects/:id` | ProjectDetail | 项目详情 | ⚠️ 页面已实现，路由未注册 |
| `/prd` | PRDList | PRD列表 | ✅ 已实现 |
| `/prd/create` | PRDCreate | PRD创建 | ✅ 已实现 |
| `/ui` | UIList | UI设计列表 | ✅ 已实现 |
| `/ui/create` | UICreate | UI设计创建 | ✅ 已实现 |
| `/ai-news` | AINewsList | AI动态列表 | ✅ 已实现 |
| `/ai-news/:id` | AINewsDetail | AI动态详情 | ✅ 已实现 |
| `/ai-news/favorites` | AINewsFavorites | AI动态收藏 | ✅ 已实现 |

### 5.5 侧边栏导航

| 导航项 | 图标 | 路径 | 状态 |
|--------|------|------|------|
| AI 动态 | Newspaper | `/ai-news` | ✅ 已实现 |
| 我的项目 | FolderKanban | `/projects` | ✅ 已实现 |
| 我的需求 | FileText | `/prd` | ✅ 已实现 |
| 我的设计 | Palette | `/ui` | ✅ 已实现 |

---

## 6. 用户体验设计

### 6.1 个性化问候

根据当前时间显示不同问候语：

| 时间段 | 问候语 | 图标 |
|--------|--------|------|
| 05:00-09:00 | 早上好 | 🌅 |
| 09:00-12:00 | 上午好 | ☀️ |
| 12:00-14:00 | 中午好 | 🌞 |
| 14:00-18:00 | 下午好 | 🌤️ |
| 18:00-22:00 | 晚上好 | 🌙 |
| 22:00-05:00 | 夜深了 | 🌃 |

### 6.2 加载状态

- 列表加载：骨架屏动画（500ms延迟）
- 按钮操作：加载旋转图标
- AI生成：进度动画
- 智能审核：扫描动画（2秒）

### 6.3 反馈机制

**Toast消息**：
- 4种类型：成功(绿)、错误(红)、警告(黄)、信息(蓝)
- 自动消失：3秒
- 滑入动画

**确认弹窗**：
- 危险操作（删除）需二次确认
- 支持键盘操作（ESC关闭）

---

## 7. 后续规划

### 7.1 V1.1 规划

| 功能 | 优先级 | 说明 | 状态 |
|------|--------|------|------|
| AI动态模块前端 | P0 | AI动态列表、详情、收藏页面（Mock数据） | ✅ 已完成 |
| AI动态时间线布局 | P0 | 按日期分组的时间轴展示 | ✅ 已完成 |
| 项目详情路由注册 | P0 | 注册 `/projects/:id` 路由 | ⏳ 待开发 |
| 移动端适配 | P0 | 响应式布局优化 | ⏳ 待开发 |
| 编辑功能完善 | P0 | PRD/UI编辑模式 | ⏳ 待开发 |
| 草稿自动保存 | P1 | 防止内容丢失 | ⏳ 待开发 |
| 全局搜索 | P1 | 跨模块搜索 | ⏳ 待开发 |
| 键盘快捷键 | P2 | 提升操作效率 | ⏳ 待开发 |

### 7.2 V1.1.2 规划（工作台升级版）

**版本主题**：打造高效的需求工作台，提升日常工作体验

**核心目标**：
1. 通过工作台统一入口，减少导航成本
2. 通过数据概览和快捷操作，提升工作效率
3. 将AI动态融合到工作台，提升差异化优势曝光
4. 通过排行榜和成就系统，激励用户持续使用

| 功能 | 优先级 | 工时 | 说明 | 状态 |
|------|--------|------|------|------|
| **顶部导航栏** | P0 | 4h | 全局搜索、使用时长、Token消耗、排名、用户信息 | ✅ 已完成 |
| **数据概览卡片** | P0 | 6h | 项目/需求/设计三个卡片，展示统计数据和快捷操作 | ✅ 已完成 |
| **最近项目列表** | P0 | 3h | 显示最近3个项目，支持快速访问和操作 | ✅ 已完成 |
| **今日工作列表** | P0 | 4h | 显示今日任务，支持筛选和状态管理 | ✅ 已完成 |
| **右侧AI动态面板** | P0 | 3h | 在工作台右侧展示最新AI动态（10条），支持快速跳转 | ✅ 已完成 |
| **排行榜系统** | P1 | 4h | 本周排行榜，显示前3名+当前用户，激励竞争 | ✅ 已完成 |
| **成就进度展示** | P1 | 3h | 展示PRD/设计成就进度，可视化进度条 | ✅ 已完成 |
| **使用时长统计** | P1 | 2h | 统计今日/本周/本月使用时长，7天趋势图 | ✅ 已完成 |
| **Token消耗统计** | P1 | 2h | 统计Token消耗，显示剩余配额和消耗分布 | ✅ 已完成 |
| **全局搜索功能** | P2 | 4h | 搜索项目/需求/设计/文档，支持快速跳转 | ✅ 已完成 |

**实施计划**：
- **MVP版本**（P0功能）：20小时，约2.5个工作日
- **完整版本**（P0+P1功能）：31小时，约4个工作日
- **增强版本**（P0+P1+P2功能）：35小时，约4.5个工作日

**预计发布时间**：2025年2月中旬

### 7.3 V2.0 规划

| 功能 | 优先级 | 说明 |
|------|--------|------|
| 后端服务 | P0 | 数据持久化、用户认证 |
| AI动态爬虫服务 | P0 | 境外AI资讯定时爬取、翻译、入库 |
| TAPD集成 | P0 | 真实同步功能 |
| 团队协作 | P1 | 多人协作编辑 |
| AI模型升级 | P1 | 接入真实AI服务（GPT-4/Claude） |
| AI动态推送 | P1 | 企业微信/邮件定时推送AI资讯摘要 |
| 数据分析 | P2 | 使用数据统计 |

---

## 8. 当前实现差距审计（PRD vs 代码）

> 以下记录 PRD 文档与实际代码实现之间的差距，供研发对齐修复。

### 8.1 路由缺失

| 问题 | 严重度 | 说明 |
|------|--------|------|
| `/projects/:id` 路由未注册 | 严重 | ProjectDetail.tsx 页面已实现，但 App.tsx 中未注册路由，导致项目详情页不可访问 |
| `/prd/:id` 路由不存在 | 中 | ProjectList 中有链接指向 `/prd/:id`，但无对应页面和路由 |
| `/ui/:id` 路由不存在 | 中 | ProjectList 中有链接指向 `/ui/:id`，但无对应页面和路由 |

### 8.2 数据模型差异

| PRD定义 | 实际代码 | 差异说明 |
|---------|----------|----------|
| UIDesignItem.name | UIDesignItem.title | 代码中使用 `title` 而非 PRD 原定义的 `name` |
| UIDesignItem.linkedPRD | UIDesignItem.prdId + prdTitle | 代码拆分为两个字段关联PRD |
| PRDItem.updatedAt (必填) | PRDItem.updatedAt? (可选) | 代码中为可选字段 |
| 无 projectId | PRDItem.projectId, UIDesignItem.projectId | 代码中增加了项目关联字段（PRD未定义） |
| 无 ProjectItem | ProjectItem 已实现 | 项目管理模块在代码中已实现但PRD V1.0未包含 |

> 注：以上差异已在本文档 5.3 数据存储章节中按实际代码更新。

### 8.3 功能实现问题

| 问题 | 严重度 | 所在文件 | 说明 |
|------|--------|----------|------|
| AI生成为硬编码Mock | 中 | PRDCreate.tsx | `handleGenerate` 函数返回固定内容，不根据用户输入变化 |
| TAPD同步假反馈 | 严重 | PRDCreate.tsx | `handleSyncTAPD` 直接显示成功Toast，无实际同步逻辑，误导用户 |
| "下一步"按钮行为异常 | 中 | PRDCreate.tsx | Step 2 的"下一步"按钮打开审核弹窗，与"智能审查"按钮行为重复 |
| AI对话为模板回复 | 中 | PRDCreate.tsx | `handleSendChatMessage` 返回固定模板，不理解上下文 |
| localStorage key 不一致 | 低 | Sidebar.tsx vs PRD | 代码使用 `lexin_sidebar_collapsed`，原PRD写的 `sidebar_collapsed` |
| ProjectCreate 缺少模板选择 | 中 | ProjectCreate.tsx | 项目模块PRD要求4种项目模板，实际未实现 |
| ProjectCreate 缺少关联选择 | 中 | ProjectCreate.tsx | 创建项目时无法关联已有PRD/UI设计 |

### 8.4 已修正项（本次PRD更新）

- ✅ 数据存储键名已按实际代码更新（`lexin_sidebar_collapsed`、`lexin_project_list`）
- ✅ 数据结构已按实际代码更新（PRDItem.projectId、UIDesignItem.title 等）
- ✅ 项目结构已补充 ProjectList、ProjectCreate、ProjectDetail 页面
- ✅ 路由配置表已新增，标注各路由实现状态
- ✅ 侧边栏导航配置已新增
- ✅ UIDesignItem.updatedAt 已补充实现
- ✅ AINewsItem 新增 isRead 字段，支持已读状态标记
- ✅ Mock数据丰富化：PRD从2条扩充至7条，UI设计从1条扩充至13条，覆盖全部3个项目
- ✅ 新增 Mock数据规模表 和 需求与设计关联关系表（5.3节）
- ✅ PRD创建流程优化（2025-02-07更新）：
  - 步骤名称更新：需求输入→新建需求，PRD文档→需求审查，导出→需求导出
  - 字符限制提升：2000字→10000字
  - Step 1 布局优化：左侧AI助手（简化为快捷建议+对话），右侧编辑区（基本信息+需求描述+元数据）
  - Step 2 全屏审查页面：固定头部+可滚动内容+固定底部操作栏
  - 生成逻辑优化：AI生成内容直接替换需求描述区，无需单独编辑器
  - 移除灰色分割线，优化视觉层次

---

## 9. 附录

### 9.1 术语表

| 术语 | 说明 |
|------|------|
| PRD | Product Requirement Document，产品需求文档 |
| UI | User Interface，用户界面 |
| TAPD | 腾讯敏捷产品研发平台 |
| Figma | 在线协作设计工具 |
| Pencil | 设计工具 |
| AI动态 | AI News Feed，全球AI领域资讯聚合模块 |
| 爬虫 | Web Crawler，自动抓取网页内容的程序 |
| Readability | 网页正文提取算法，用于从HTML中提取文章主体内容 |
| robots.txt | 网站爬虫协议文件，声明允许/禁止爬取的路径 |


